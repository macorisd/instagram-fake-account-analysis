{
  "hash": "39f9f10348537e01e98f155b20a6ff80",
  "result": {
    "markdown": "---\ntitle: \"Visualización\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Librerías, datasets y procesamiento previo\nlibrary(readr)\nlibrary(dplyr)\nlibrary(fcaR)\nlibrary(magrittr)\nlibrary(ggplot2)\nlibrary(psych)\nlibrary(arules)\n\ndatos <- read_csv(\"train.csv\")\nView(datos)\ndatos_test <- read_csv(\"test.csv\")\nView(datos_test)\n\ndatos <- rename(datos, profile_pic=`profile pic`, `nums/length_username` = `nums/length username`, fullname_words=`fullname words`, `nums/length_fullname` = `nums/length fullname`, description_length=`description length`, external_URL=`external URL`, posts=`#posts`, followers=`#followers`, follows=`#follows`)\n\ndatos_test <- rename(datos_test, profile_pic=`profile pic`, `nums/length_username` = `nums/length username`, fullname_words=`fullname words`, `nums/length_fullname` = `nums/length fullname`, description_length=`description length`, external_URL=`external URL`, posts=`#posts`, followers=`#followers`, follows=`#follows`)\n```\n:::\n\n\n## Visualización de datos\n\nExplorar los datos numéricamente es necesario y útil en cualquier análisis, pero a veces visualizar estos datos puede ser incluso más revelador, o complementar a la información numérica para extraer conclusiones de una manera más directa y clara.\n\nMi objetivo en este apartado será, pues, intentar avanzar en la demostración o refutación de las hipótesis que extraje mediante los datos extremo de las variables.\n\nEn primer lugar, es bueno comprobar, de forma visual, el perfecto equilibrio en el que se encuentra el dataset, ofreciendo una mitad de cuentas verídicas y otra mitad de cuentas falsas:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico de la distribución de cuentas reales y falsas\nggplot(datos, aes(x = as.factor(fake))) +\n  geom_bar(fill = \"maroon\") +\n  labs(title = \"Distribución de Cuentas Falsas y Reales\",\n       x = \"Real/Fake\",\n       y = \"Nº cuentas\") +\n  scale_x_discrete(labels = c(\"0\" = \"Real\", \"1\" = \"Fake\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nComo ya sabíamos, hay el mismo número de cuentas reales como de cuentas falsas (casi 300 de cada tipo).\n\nA continuación, para el resto de variables, mostraré tanto el histograma como un gráfico de cuentas verdaderas y falsas según esa variable particular, comenzando por la foto de perfil:\n\n### Foto de perfil\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de foto de perfil\nggplot(datos, aes(x = as.factor(profile_pic))) +\n  geom_bar(fill = \"steelblue\", color=\"black\") +\n  labs(title = \"Frecuencia de Fotos de Perfil\",\n       x = \"Foto de Perfil\",\n       y = \"Frecuencia\") +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nHay más del doble de cuentas con foto de perfil que de cuentas sin foto de perfil.\n\nPasemos al gráfico de cuentas verdaderas y falsas según foto de perfil:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico de cuentas verdaderas y falsas según foto de perfil\nggplot(datos, aes(x = as.factor(profile_pic), fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Foto de Perfil\",\n       x = \"Foto de Perfil\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nEn la exploración numérica de extremos, concluimos que era más probable que una cuenta con foto de perfil fuera verdadera a falsa. Con este gráfico confirmamos lo siguiente: es extremadamente raro encontrar una cuenta real sin foto de perfil.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Crear el gráfico combinado\nggplot(datos, aes(x = as.factor(profile_pic), fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Frecuencia de Fotos de Perfil según Real/Fake\",\n       x = \"Foto de Perfil\",\n       y = \"Frecuencia\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nAntes de pasar a la siguiente variable es necesario puntualizar que, en ciertas variables (muchas de las no binarias), resulta útil el uso de intervalos, para no tener demasiadas barras en los gráficos. Ahora sí, veamos los siguientes gráficos:\n\n### Ratio de números en la longitud del nombre de usuario\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de nums/length_username\nggplot(datos, aes(x = `nums/length_username`)) +\n  geom_histogram(binwidth = diff(range(datos$`nums/length_username`)) / 30, fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Números/Longitud de Nombre de Usuario\",\n       x = \"Números/Longitud de Nombre de Usuario\",\n       y = \"Frecuencia\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nDestaca la grandísima presencia de valores 0 de este ratio.\n\nVeamos el gráfico de cuentas verdaderas y falsas según nums/length_username agrupado en intervalos:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Agrupar los valores de nums/length_username en intervalos\ndatos$num_length_interval <- cut(datos$`nums/length_username`, breaks = 15)\n\n# Gráfico de cuentas verdaderas y falsas según nums/length_username agrupado en intervalos\nggplot(datos, aes(x = num_length_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Números/Longitud de Nombre de Usuario\",\n       x = \"Intervalos de Números/Longitud de Nombre de Usuario\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nEn la exploración numérica de extremos mencionamos que las cuentas verdaderas tendían a valores bajos de esta variable, y las falsas, a valores altos. Este gráfico lleva a pensar que es extremadamente raro encontrar una cuenta real con mucho ratio de números en la longitud del username, y cuanto más bajo es el ratio, más probabilidad hay de que la cuenta sea real.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de nums/length_username según Real/Fake\nggplot(datos, aes(x = `nums/length_username`, fill = as.factor(fake))) +\n  geom_histogram(binwidth = diff(range(datos$`nums/length_username`)) / 30, position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Números/Longitud de Nombre de Usuario\",\n       x = \"Números/Longitud de Nombre de Usuario\",\n       y = \"Frecuencia\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nHay una gran presencia de valores 0 de este ratio (siendo mucho mayor en cuentas verdaderas), y en cuentas falsas hay cierta persistencia de frecuencias notables a medida que crece el ratio.\n\nPasemos a la siguiente variable:\n\n### Número de palabras en el nombre completo\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de fullname_words\nggplot(datos, aes(x = as.factor(fullname_words))) +\n  geom_bar(fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Palabras en Nombre Completo\",\n       x = \"Palabras en Nombre Completo\",\n       y = \"Frecuencia\")\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nHay más presencia de valores bajos de la variable.\n\nVeamos el gráfico de cuentas verdaderas y falsas según fullname_words:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico de cuentas verdaderas y falsas según fullname_words\nggplot(datos, aes(x = as.factor(fullname_words), fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Palabras en Nombre Completo\",\n       x = \"Palabras en Nombre Completo\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nEn el último análisis numérico de probabilidad mencionamos que era algo más probable que las cuentas verdaderas tuvieran más palabras en el nombre completo. Este gráfico también va a favor de esa hipótesis, pero en valores bajos de la variable se pierde un poco la confianza.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de fullname_words según Real/Fake\nggplot(datos, aes(x = as.factor(fullname_words), fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Palabras en Nombre Completo\",\n       x = \"Palabras en Nombre Completo\",\n       y = \"Frecuencia\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\nComo se puede observar, la frecuencia de cuentas con más de 3 palabras en el nombre completo es minúscula, con lo que no sería realista extraer conclusiones basadas en esos datos. La frecuencia de cuentas con 3 o menos palabras está empatada entre las cuentas verdaderas y falsas, con lo que tampoco se puede concluir mucho. Esta es una muestra de lo importante que resulta la observación de las frecuencias de los datos (la ausencia de valores altos nos podría engañar en el gráfico anterior).\n\nSigamos con la próxima variable:\n\n### Ratio de números en la longitud del nombre completo\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de nums/length_fullname\nggplot(datos, aes(x = `nums/length_fullname`)) +\n  geom_histogram(binwidth = diff(range(datos$`nums/length_fullname`)) / 24, fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Números/Longitud de Nombre Completo\",\n       x = \"Números/Longitud de Nombre Completo\",\n       y = \"Frecuencia\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\nDestaca la masiva aparición de valores 0 de este ratio.\n\nVeamos el gráfico de cuentas verdaderas y falsas según nums/length_fullname agrupado en intervalos:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Agrupar los valores de nums/length_fullname en intervalos\ndatos$fullname_length_interval <- cut(datos$`nums/length_fullname`, breaks = 24)\n\n# Gráfico de cuentas verdaderas y falsas según nums/length_fullname agrupado en intervalos\nggplot(datos, aes(x = fullname_length_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Números/Longitud de Nombre Completo\",\n       x = \"Intervalos de Números/Longitud de Nombre Completo\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nEn el último análisis numérico de probabilidad mencionamos que era mucho más probable que las cuentas falsas tuvieran más ratio de números en la longitud del full name. Este gráfico también va a favor de esa hipótesis, pero en valores bajos de la variable se pierde un poco la confianza.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de nums/length_fullname según Real/Fake\nggplot(datos, aes(x = `nums/length_fullname`, fill = as.factor(fake))) +\n  geom_histogram(binwidth = diff(range(datos$`nums/length_fullname`)) / 24, position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Números/Longitud de Nombre Completo\",\n       x = \"Números/Longitud de Nombre Completo\",\n       y = \"Frecuencia\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\nPasemos a la siguiente columna:\n\n### Coincidencia de nombre completo y nombre de usuario\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de name==username\nggplot(datos, aes(x = as.factor(`name==username`))) +\n  geom_bar(fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Coincidencia de Nombre de Usuario\",\n       x = \"Coincidencia de Nombre de Usuario\",\n       y = \"Frecuencia\") +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\nVemos que hay poquísimas cuentas que presentan esta coincidencia.\n\nVeamos el gráfico de cuentas verdaderas y falsas según name==username\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico de cuentas verdaderas y falsas según name==username\nggplot(datos, aes(x = as.factor(`name==username`), fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Coincidencia de Nombre de Usuario\",\n       x = \"Coincidencia de Nombre de Usuario\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) + \n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\nEn el último análisis numérico de probabilidad mencionamos que era muchísimo más probable que las cuentas falsas presentaran coincidencia en el nombre de usuario. Este gráfico revela que es extremadamente raro encontrar cuentas verídicas con coincidencia en el nombre de usuario (aunque hemos visto que en cuentas falsas también es raro, pero algo menos), pero no podemos afirmar nada sobre las cuentas que no presentan esta coincidencia.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, aes(x = as.factor(`name==username`), fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Frecuencia de Coincidencia de Nombre de Usuario según Real/Fake\",\n       x = \"Name == Username\",\n       y = \"Frecuencia\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\nEsta variable no parece ser fiable para determinar si una cuenta es verdadera o no.\n\nPasemos a analizar la siguiente variable:\n\n### Longitud de la descripción\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de description_length\nggplot(datos, aes(x = description_length)) +\n  geom_histogram(binwidth = diff(range(datos$description_length)) / 15, fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Longitud de Descripción\",\n       x = \"Longitud de Descripción\",\n       y = \"Frecuencia\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\nHay muchas cuentas sin descripción, y el resto tiene valores generalmente bajos en la longitud de la descripción.\n\nEchemos un vistazo al gráfico de cuentas verdaderas y falsas según description_length agrupado en intervalos:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Agrupar los valores de description_length en intervalos\ndatos$description_length_interval <- cut(datos$description_length, breaks = 15)\n\n# Gráfico de cuentas verdaderas y falsas según description_length agrupado en intervalos\nggplot(datos, aes(x = description_length_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Longitud de Descripción\",\n       x = \"Intervalos de Longitud de Descripción\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\nEn el último análisis numérico de probabilidad mencionamos que era mucho más probable que las cuentas verdaderas tuvieran una descripción más larga. Este gráfico indica que, si una cuenta tiene una descripción larga, probablemente será verídica, aunque no se pueden extraer conclusiones demasiado veraces, puesto que el último intervalo muestra una presencia notable de cuentas falsas.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de description_length según Real/Fake\nggplot(datos, aes(x = description_length_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Longitud de Descripción\",\n       x = \"Intervalos de Longitud de Descripción\",\n       y = \"Proporción\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\nDe este gráfico extraemos que la diferencia de las frecuencias de longitud de descripción en cuentas falsas es drástica: se pasa de un pico enorme a una llanura muy pobre. En cuentas verídicas, el primer pico también es el más grande, pero la distribución es algo más normal.\n\nVeamos la siguiente variable:\n\n### URL externa\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de external_URL\nggplot(datos, aes(x = as.factor(external_URL))) +\n  geom_bar(fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de URL Externa\",\n       x = \"URL Externa\",\n       y = \"Frecuencia\") +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\nComo ya sabíamos, hay pocas cuentas con URL externa.\n\nObservemos el gráfico de cuentas verdaderas y falsas según external_URL:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico de cuentas verdaderas y falsas según external_URL\nggplot(datos, aes(x = as.factor(external_URL), fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según URL Externa\",\n       x = \"URL Externa\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\nComo ya dijimos anteriormente, este dataset no contiene cuentas falsas con URL externa. El gráfico nos indica que, si una cuenta no tiene URL externa, no podemos afirmar con seguridad si es falsa o verdadera.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de external_URL según Real/Fake\nggplot(datos, aes(x = as.factor(external_URL), fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según URL Externa\",\n       x = \"URL Externa\",\n       y = \"Proporción\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\nDe nuevo hay un salto drástico en la distribución de las cuentas falsas (ninguna tiene URL externa), mientras que en las cuentas verdaderas la variable está más equilibrada (aunque, igualmente, hay muchas más cuentas verdaderas sin URL que con ella).\n\nPasemos a la siguiente columna:\n\n### Cuentas privadas\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de private\nggplot(datos, aes(x = as.factor(private))) +\n  geom_bar(fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Privacidad\",\n       x = \"Privacidad\",\n       y = \"Frecuencia\") +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\nHay más cuentas públicas que privadas.\n\nVeamos el gráfico de cuentas verdaderas y falsas según private:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico de cuentas verdaderas y falsas según private\nggplot(datos, aes(x = as.factor(private), fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Privacidad\",\n       x = \"Privacidad\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\nEn el análisis exploratorio comentamos que la privacidad de la cuenta no parecía ser un buen criterio para determinar su legitimidad. Este gráfico lo confirma: no se puede afirmar absolutamente nada, con lo que no sería un buen parámetro predictor.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de private según Real/Fake\nggplot(datos, aes(x = as.factor(private), fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Privacidad\",\n       x = \"Privacidad\",\n       y = \"Proporción\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  scale_x_discrete(labels = c(\"0\" = \"No\", \"1\" = \"Sí\"))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\nLos gráficos para cuentas verdaderas y falsas son casi idénticos. No podemos extraer diferencias.\n\nPasemos a la siguiente variable:\n\n### Número de publicaciones\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de posts\nggplot(datos, aes(x = posts)) +\n  geom_histogram(binwidth = diff(range(datos$posts)) / 60, fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Número de Publicaciones\",\n       x = \"Número de Publicaciones\",\n       y = \"Frecuencia\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\nUna vez más, encontramos una variable con gran presencia de valores pequeños, y decreciente frecuencia ante valores crecientes.\n\nVeamos el gráfico de cuentas verdaderas y falsas según posts agrupado en intervalos:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Agrupar los valores de posts en intervalos\ndatos$posts_interval <- cut(datos$posts, breaks = 60)\n\n# Gráfico de cuentas verdaderas y falsas según posts agrupado en intervalos\nggplot(datos, aes(x = posts_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Número de Publicaciones\",\n       x = \"Intervalos de Número de Publicaciones\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n\nTanto en el análisis de extremos como en el análisis probabilístico concluimos que, a mayor número de publicaciones, más posibilidades había de que la cuenta fuera verdadera. Este gráfico confirma ese enunciado: parece imposible, según el dataset, que una cuenta falsa tenga más de 400 publicaciones. El sentido común también lo confirma.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de posts según Real/Fake\nggplot(datos, aes(x = posts_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Número de Publicaciones\",\n       x = \"Intervalos de Número de Publicaciones\",\n       y = \"Proporción\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n:::\n\n\nDe nuevo, vemos un gran salto en las barras de las cuentas falsas.\n\nSigamos con la próxima columna:\n\n### Número de seguidores\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Histograma de frecuencias de followers\nggplot(datos, aes(x = followers)) +\n  geom_histogram(binwidth = diff(range(datos$followers)) / 100, fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Número de Seguidores\",\n       x = \"Número de Seguidores\",\n       y = \"Frecuencia\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n\nEste histograma es ciertamente poco revelador, debido a la presencia en el dataset de cuentas con un número inmenso de seguidores. Por ello, la barra principal se concentra en un valor bajo.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Agrupar los valores de followers en 15 categorías de intervalos\ndatos$followers_interval <- cut(datos$followers, breaks = 100)\n\n# Gráfico de cuentas verdaderas y falsas según followers agrupado en intervalos\nggplot(datos, aes(x = followers_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Número de Seguidores\",\n       x = \"Intervalos de Número de Seguidores\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-31-1.png){width=672}\n:::\n:::\n\n\nDe nuevo, tanto en el análisis de extremos como en el análisis probabilístico dijimos que, a mayor número de seguidores, más posibilidades había de que la cuenta fuera verdadera. El gráfico vuelve a confirmar ambas hipótesis coincidentes, puesto que las cuentas falsas ocupan únicamente el primer intervalo de seguidores. Cabe destacar, no obstante, lo que ya dijimos en el análisis exploratorio: en el dataset hay muchas cuentas con cifras increíblemente altas de seguidores. Sin estas cuentas, que en datasets aleatorios probablemente no aparecerían, el gráfico cambiaría, pero aun así las conclusiones probablemente serían similares.\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de followers según Real/Fake\nggplot(datos, aes(x = followers_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Número de Seguidores\",\n       x = \"Intervalos de Número de Seguidores\",\n       y = \"Proporción\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-32-1.png){width=672}\n:::\n:::\n\n\nVeamos el úlltimo gráfico de este tipo:\n\n### Número de seguimientos\n\nVeamos el histograma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, aes(x = follows)) +\n  geom_histogram(binwidth = diff(range(datos$follows)) / 15, fill = \"steelblue\", color = \"black\") +\n  labs(title = \"Histograma de Número de Seguimientos\",\n       x = \"Número de Seguimientos\",\n       y = \"Frecuencia\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-33-1.png){width=672}\n:::\n:::\n\n\nLa frecuencia decrece mucho a medida que crece el número de seguimientos, lo cual es razonable.\n\nVeamos el gráfico de cuentas verdaderas y falsas según follows agrupado en intervalos:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Agrupar los valores de follows en 15 categorías de intervalos\ndatos$follows_interval <- cut(datos$follows, breaks = 15)\n\n# Gráfico de cuentas verdaderas y falsas según follows agrupado en intervalos\nggplot(datos, aes(x = follows_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"fill\") +\n  labs(title = \"Cuentas Falsas según Número de Seguimientos\",\n       x = \"Intervalos de Número de Seguimientos\",\n       y = \"Proporción\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    name = \"Real/Fake\",\n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n\nEn el análisis exploratorio concluimos que, a mayor número de seguimientos, mayor sería la probabilidad de que la cuenta fuera verdadera. Sin embargo, el gráfico muestra que hay cuentas verdaderas y falsas en todo el espectro de intervalos de número de seguimientos. No podemos concluir demasiado de este dato, aunque el gráfico no debe ser el criterio más poderoso, ya que, por ejemplo, si el 95% de los datos estuviera comprendido en la primera y última barra, las demás barras intermedias serían poco útiles, pero parecerían de igual peso visualmente.\n\nEsta reflexión puede aplicarse a todas las variables: es bueno ver el gráfico para confirmar hipótesis planteadas con anterioridad, pero no debe usarse un único criterio como medidor absoluto (ya hemos visto que hay discordancias entre ciertos gráficos y las conclusiones de los valores extremo; por eso indiqué que no podíamos fiarnos de éstos).\n\nVeamos un gráfico que comprende la información de los dos anteriores, a modo de resumen final:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico combinado de follows según Real/Fake\nggplot(datos, aes(x = follows_interval, fill = as.factor(fake))) +\n  geom_bar(position = \"dodge\", color = \"black\") +\n  facet_wrap(~ fake, labeller = labeller(fake = c(\"0\" = \"Real\", \"1\" = \"Fake\"))) +\n  labs(title = \"Cuentas Verdaderas y Falsas según Número de Seguimientos\",\n       x = \"Intervalos de Número de Seguimientos\",\n       y = \"Proporción\",\n       fill = \"Real/Fake\") +\n  scale_fill_manual(values = c(\"0\" = \"palegreen3\", \"1\" = \"tomato3\"), \n                    labels = c(\"Real\", \"Fake\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](visualizacion_files/figure-html/unnamed-chunk-35-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "visualizacion_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}